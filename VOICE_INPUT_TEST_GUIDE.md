# 语音输入功能测试指南

## 🎯 测试目标
验证新的多层级语音输入功能在各种国产手机上的兼容性和用户体验。

## 📱 测试设备
### 重点测试设备
- **OPPO** (ColorOS): Find X系列、Reno系列
- **vivo** (FuntouchOS): X系列、S系列、iQOO系列
- **小米** (MIUI): 小米、Redmi系列
- **华为** (EMUI/HarmonyOS): Mate系列、P系列
- **荣耀** (MagicOS): Magic系列、数字系列
- **一加** (OxygenOS): OnePlus系列

### 测试环境
- 有Google服务的设备
- 无Google服务的设备（国行版本）
- 不同Android版本（Android 8.0+）

## 🧪 测试用例

### 测试用例1：SpeechRecognizer可用
**前置条件**: 设备支持SpeechRecognizer
**测试步骤**:
1. 打开语音输入界面
2. 点击语音按钮
3. 说话测试

**预期结果**: 
- 使用内置SpeechRecognizer
- 实时显示识别结果
- 支持连续语音输入

### 测试用例2：SpeechRecognizer不可用
**前置条件**: 设备不支持SpeechRecognizer或服务异常
**测试步骤**:
1. 打开语音输入界面
2. 点击语音按钮
3. 观察备用方案启动

**预期结果**:
- 自动检测设备品牌
- 尝试品牌特定语音方案
- 显示相应的引导信息

### 测试用例3：OPPO设备测试
**测试步骤**:
1. 在OPPO设备上点击语音按钮
2. 检查是否尝试启动Breeno语音助手
3. 检查是否尝试OPPO输入法语音功能

**预期结果**:
- 优先尝试Breeno语音助手
- 备用尝试OPPO输入法
- 最终回退到系统语音输入

### 测试用例4：vivo设备测试
**测试步骤**:
1. 在vivo设备上点击语音按钮
2. 检查是否尝试启动Jovi语音助手
3. 检查是否尝试vivo输入法语音功能

**预期结果**:
- 优先尝试Jovi语音助手
- 备用尝试vivo输入法
- 最终回退到系统语音输入

### 测试用例5：小米设备测试
**测试步骤**:
1. 在小米设备上点击语音按钮
2. 检查是否尝试启动小爱同学
3. 检查是否尝试搜狗输入法小米版

**预期结果**:
- 优先尝试小爱同学
- 备用尝试搜狗输入法
- 最终回退到系统语音输入

### 测试用例6：无语音服务设备
**前置条件**: 设备没有任何语音识别服务
**测试步骤**:
1. 点击语音按钮
2. 观察选择对话框
3. 选择不同选项测试

**预期结果**:
- 显示语音输入选项对话框
- 提供输入法语音输入指导
- 提供手动输入选项
- 提供语音设置入口

### 测试用例7：权限测试
**测试步骤**:
1. 拒绝录音权限
2. 点击语音按钮
3. 观察权限请求流程

**预期结果**:
- 正确请求录音权限
- 权限被拒绝时提供备用方案
- 引导用户到设置页面

## 📊 测试检查点

### 功能检查点
- [ ] SpeechRecognizer正常工作
- [ ] 品牌特定语音方案启动
- [ ] 系统语音输入Intent工作
- [ ] 输入法语音输入指导显示
- [ ] 手动输入备用方案可用
- [ ] 语音设置页面可打开

### 用户体验检查点
- [ ] 语音按钮响应及时
- [ ] 状态提示信息清晰
- [ ] 错误处理用户友好
- [ ] 备用方案切换流畅
- [ ] 识别结果正确显示
- [ ] 连续语音输入支持

### 兼容性检查点
- [ ] OPPO ColorOS兼容
- [ ] vivo FuntouchOS兼容
- [ ] 小米MIUI兼容
- [ ] 华为EMUI/HarmonyOS兼容
- [ ] 荣耀MagicOS兼容
- [ ] 一加OxygenOS兼容
- [ ] 原生Android兼容

## 🐛 常见问题排查

### 问题1：语音按钮无响应
**排查步骤**:
1. 检查logcat日志
2. 确认权限状态
3. 检查设备品牌检测

### 问题2：品牌特定方案失败
**排查步骤**:
1. 确认设备品牌识别正确
2. 检查对应应用是否安装
3. 验证Intent是否正确

### 问题3：系统语音输入不可用
**排查步骤**:
1. 检查系统语音输入设置
2. 确认输入法安装状态
3. 验证Intent查询结果

## 📝 测试报告模板

### 设备信息
- 品牌: ___________
- 型号: ___________
- 系统版本: ___________
- 输入法: ___________

### 测试结果
- SpeechRecognizer: ✅/❌
- 品牌特定方案: ✅/❌
- 系统语音输入: ✅/❌
- 输入法语音: ✅/❌
- 手动输入: ✅/❌

### 问题记录
- 问题描述: ___________
- 复现步骤: ___________
- 错误日志: ___________
- 解决方案: ___________

## 🎯 成功标准
1. **功能完整性**: 所有层级的语音输入方案都能正常工作
2. **兼容性**: 在主流国产手机上都有可用的语音输入方案
3. **用户体验**: 用户始终能找到可用的输入方式
4. **错误处理**: 所有错误情况都有友好的提示和备用方案

通过这个测试指南，可以全面验证新的多层级语音输入功能在各种设备上的表现。
