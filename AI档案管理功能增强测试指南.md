# AI档案管理功能增强测试指南

## 功能概述
本次更新为AI指令档案选择界面添加了三个重要功能：

1. **预设资料可编辑** - 预设资料中的每个选项可以随时点击弹出选项修改
2. **管理档案跳转** - 点击管理档案按钮跳转对应的设置页面
3. **多档案标签切换** - 建立多个标签支持多个档案切换，方便用户随时调用多个画像档案

## 测试步骤

### 1. 预设资料编辑功能测试

#### 1.1 打开档案选择界面
1. 启动应用
2. 进入简易模式
3. 点击浏览器tab的AI助手按钮
4. 选择"选择AI指令档案"

#### 1.2 测试编辑按钮
1. 选择一个档案（非默认档案）
2. 观察预设资料预览区域
3. 点击"编辑"按钮
4. **预期结果**：
   - 跳转到档案编辑页面（MasterPromptSettingsActivity）
   - 自动选中当前档案进行编辑
   - 对话框自动关闭

#### 1.3 测试编辑按钮状态
1. 不选择任何档案
2. 点击"编辑"按钮
3. **预期结果**：
   - 显示提示"请先选择一个档案"
   - 不跳转页面

### 2. 管理档案跳转功能测试

#### 2.1 测试管理档案按钮
1. 在档案选择界面
2. 点击"管理档案"按钮
3. **预期结果**：
   - 跳转到档案管理页面（MasterPromptSettingsActivity）
   - 对话框自动关闭
   - 可以创建、编辑、删除档案

#### 2.2 测试档案管理页面功能
1. 在档案管理页面
2. 测试创建新档案
3. 测试编辑现有档案
4. 测试删除档案
5. **预期结果**：
   - 所有档案管理功能正常工作
   - 修改后返回档案选择界面时能看到更新

### 3. 多档案标签切换功能测试

#### 3.1 测试标签页显示
1. 打开档案选择界面
2. 观察档案列表上方的标签页
3. **预期结果**：
   - 每个档案都有对应的标签页
   - 当前档案的标签页被选中
   - 标签页可以滚动（如果档案较多）

#### 3.2 测试标签页切换
1. 点击不同的标签页
2. 观察档案列表和预览区域的变化
3. **预期结果**：
   - 档案列表自动滚动到对应档案
   - 对应档案被选中（单选按钮状态）
   - 预设资料预览自动更新
   - 预览区域显示对应档案的内容

#### 3.3 测试标签页与列表联动
1. 通过标签页选择档案A
2. 在档案列表中点击档案B
3. 观察标签页状态
4. **预期结果**：
   - 标签页自动切换到档案B
   - 档案B被选中
   - 预览内容更新为档案B

### 4. 综合功能测试

#### 4.1 完整流程测试
1. 打开档案选择界面
2. 通过标签页快速切换档案
3. 点击"编辑"按钮修改档案
4. 返回后通过标签页验证修改
5. 点击"管理档案"进行批量管理
6. 返回后验证所有功能正常

#### 4.2 边界情况测试
1. 只有一个档案时的标签页显示
2. 档案名称为空或特殊字符时的标签页显示
3. 档案数量很多时的标签页滚动
4. 快速切换标签页时的性能表现

## 预期改进效果

### 用户体验提升
- **快速切换**：通过标签页可以快速在不同档案间切换
- **即时编辑**：无需退出选择界面即可编辑档案
- **便捷管理**：一键跳转到档案管理页面
- **直观预览**：实时预览档案的预设资料内容

### 功能完整性
- **编辑功能**：预设资料不再是只读预览，可以随时编辑
- **管理功能**：提供完整的档案管理入口
- **切换功能**：支持多种方式切换档案（标签页、列表选择）

## 注意事项

1. **性能考虑**：标签页切换应该流畅，不应有明显延迟
2. **状态同步**：标签页选择状态应与列表选择状态保持同步
3. **错误处理**：编辑和管理功能应该有适当的错误处理
4. **界面适配**：标签页在不同屏幕尺寸下应该正常显示

## 测试完成标准

- [ ] 预设资料编辑按钮正常工作
- [ ] 管理档案按钮正确跳转
- [ ] 标签页正确显示所有档案
- [ ] 标签页切换功能正常
- [ ] 标签页与列表选择状态同步
- [ ] 所有功能在边界情况下正常工作
- [ ] 界面响应流畅，无卡顿现象
