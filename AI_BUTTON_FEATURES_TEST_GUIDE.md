# AI按钮功能测试指南

## 功能概述
1. ✅ 悬浮窗粘贴按钮已替换为AI按钮
2. ✅ AI按钮点击弹出常用五个AI按钮
3. ✅ AI按钮点击跳转到对应app进行查询搜索
4. ✅ 软件tab中AI app长按菜单支持设置为常用AI
5. ✅ 常用AI自动排位靠前

## 测试步骤

### 1. 悬浮窗AI按钮测试
1. 启动应用，打开悬浮窗
2. 在搜索输入框中输入文字
3. 观察输入框下方是否出现"AI"按钮（替代原来的粘贴按钮）
4. 点击AI按钮，应该弹出包含5个AI按钮的菜单

### 2. AI按钮弹出菜单测试
1. 点击AI按钮后，应该看到弹出菜单包含：
   - 常用AI按钮（如果已设置）
   - 默认AI按钮：ChatGPT、Kimi、DeepSeek、Gemini、Claude
2. 菜单应该在3秒后自动隐藏
3. 点击任意AI按钮应该：
   - 隐藏弹出菜单
   - 启动对应的AI应用
   - 将输入框内容复制到剪贴板
   - 显示启动提示

### 3. 常用AI设置测试
1. 进入软件tab
2. 找到任意AI应用（如ChatGPT、Kimi等）
3. 长按AI应用图标
4. 在弹出的菜单中应该看到"设为常用AI"选项
5. 点击"设为常用AI"，应该显示"已设为常用AI"提示
6. 再次长按该AI应用，菜单应该显示"从常用AI中移除"

### 4. 常用AI排序测试
1. 设置几个AI为常用AI
2. 在软件tab中观察AI应用列表
3. 常用AI应该自动排到列表前面
4. 取消某个AI的常用设置后，该AI应该回到原来的位置

### 5. AI按钮动态更新测试
1. 设置不同的AI为常用AI
2. 重新打开悬浮窗，点击AI按钮
3. 弹出菜单中的按钮应该显示为设置的常用AI
4. 如果常用AI不足5个，应该用默认AI补充

## 预期结果
- ✅ 悬浮窗显示AI按钮而不是粘贴按钮
- ✅ AI按钮点击弹出5个AI按钮菜单
- ✅ 点击AI按钮能正确启动对应应用
- ✅ 长按AI应用能设置/取消常用AI
- ✅ 常用AI在列表中自动排位靠前
- ✅ AI按钮菜单动态显示常用AI

## 注意事项
1. 确保测试设备上安装了相应的AI应用
2. 如果AI应用未安装，会显示"未安装"提示
3. 常用AI设置会持久化保存
4. AI按钮菜单会自动隐藏，避免遮挡界面

## 故障排除
1. 如果AI按钮不显示，检查悬浮窗权限
2. 如果弹出菜单不显示，检查布局文件是否正确
3. 如果常用AI排序不生效，检查FavoriteAIManager是否正确初始化
4. 如果AI应用启动失败，检查包名是否正确
