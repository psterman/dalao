# 聊天记录新分类方案测试指南

## 功能概述
聊天记录功能已从原来的问题分类改为四个维度的筛选方案：
- **全部**：显示所有问题
- **最近提问**：最近7天的问题
- **包含链接**：包含网址链接的问题
- **已删除**：用户删除的问题
- **已收藏**：用户收藏的问题

## 测试步骤

### 1. 基础功能测试
1. **进入聊天界面**
   - 打开应用，进入任意AI助手的聊天界面
   - 确认工具栏中显示聊天记录按钮（历史图标）

2. **打开聊天记录弹窗**
   - 点击聊天记录按钮
   - 确认弹窗正常显示
   - 检查标题显示为"聊天记录"

### 2. 统计信息测试
1. **统计数据显示**
   - 检查顶部统计区域显示四个数据：
     - 总问题数（绿色）
     - 最近7天（蓝色）
     - 包含链接（橙色）
     - 已收藏（粉色）

2. **数据准确性**
   - 确认各统计数据与实际问题数量匹配
   - 检查最近7天的计算是否正确

### 3. 筛选功能测试
1. **筛选标签**
   - 确认显示5个筛选标签：全部、最近提问、包含链接、已删除、已收藏
   - 默认选中"全部"标签

2. **全部筛选**
   - 点击"全部"标签
   - 确认显示所有问题
   - 确认其他标签自动取消选中

3. **最近提问筛选**
   - 点击"最近提问"标签
   - 确认只显示最近7天的问题
   - 确认"全部"标签自动取消选中

4. **包含链接筛选**
   - 点击"包含链接"标签
   - 确认只显示包含链接的问题
   - 检查链接图标是否正确显示

5. **已收藏筛选**
   - 点击"已收藏"标签
   - 确认只显示已收藏的问题

6. **已删除筛选**
   - 点击"已删除"标签
   - 确认只显示已删除的问题

### 4. 问题列表测试
1. **列表显示**
   - 确认问题按时间倒序排列（最新的在前）
   - 检查问题内容正确显示
   - 确认时间格式为"MM-dd HH:mm"

2. **状态标签**
   - 检查每个问题显示相应的状态标签：
     - 已删除：红色边框，显示"已删除"
     - 已收藏：橙色边框，显示"已收藏"
     - 包含链接：蓝色边框，显示"包含链接"
     - 普通问题：灰色边框，显示"普通问题"

3. **链接图标**
   - 确认包含链接的问题显示链接图标
   - 确认不包含链接的问题不显示图标

### 5. 操作按钮测试
1. **收藏按钮**
   - 点击收藏按钮（心形图标）
   - 确认图标从空心变为实心
   - 确认状态标签更新为"已收藏"
   - 再次点击确认取消收藏

2. **删除按钮**
   - 点击删除按钮（垃圾桶图标）
   - 确认图标变为恢复图标
   - 确认状态标签更新为"已删除"
   - 再次点击确认恢复问题

3. **跳转按钮**
   - 点击跳转按钮（箭头图标）
   - 确认弹窗关闭
   - 确认聊天界面滚动到对应消息位置
   - 确认显示跳转提示

### 6. 交互逻辑测试
1. **多选筛选**
   - 同时选择多个筛选条件
   - 确认显示满足任一条件的问题
   - 确认"全部"标签自动取消选中

2. **空状态处理**
   - 选择没有问题的筛选条件
   - 确认显示空状态提示
   - 确认列表区域隐藏

3. **筛选切换**
   - 在不同筛选条件间切换
   - 确认列表内容正确更新
   - 确认统计信息保持不变

### 7. 数据持久化测试
1. **收藏状态**
   - 收藏几个问题
   - 关闭弹窗重新打开
   - 确认收藏状态保持

2. **删除状态**
   - 删除几个问题
   - 关闭弹窗重新打开
   - 确认删除状态保持

### 8. 边界情况测试
1. **无聊天记录**
   - 在没有任何聊天记录的AI助手界面测试
   - 确认显示空状态提示

2. **大量数据**
   - 在有大量聊天记录的界面测试
   - 确认列表滚动流畅
   - 确认筛选性能良好

3. **特殊字符**
   - 测试包含特殊字符的问题
   - 确认显示正常

## 预期结果
- 所有筛选功能正常工作
- 统计信息准确显示
- 操作按钮响应正确
- 状态标签正确显示
- 数据持久化正常
- 界面交互流畅

## 注意事项
- 链接检测基于关键词匹配，可能不够精确
- 收藏和删除状态仅在当前会话中保持
- 筛选条件支持多选，显示满足任一条件的问题
- 时间计算基于系统时间，确保设备时间正确
