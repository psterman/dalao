# 设置开关功能说明与使用场景

## 📋 目录
1. [剪贴板监控](#1-剪贴板监控-clipboard_listener)
2. [自动粘贴](#2-自动粘贴-auto_paste)
3. [多标签浏览器](#3-多标签浏览器-use_multi_tab_browser)
4. [AI智能模式](#4-ai智能模式-search_default_ai_mode)
5. [通知监听](#5-通知监听-enable_notification_listener)

---

## 1. 剪贴板监控 (clipboard_listener)

### 🔧 功能说明
**实时监听系统剪贴板变化**，当检测到用户复制了有效内容时，自动通知灵动岛服务，可以触发相关操作。

### ✅ 使用场景

#### 场景1: 快速搜索复制的内容
```
用户操作流程:
1. 在微信/浏览器/任何应用中复制了一段文字
2. 剪贴板监控检测到内容变化
3. 灵动岛自动展开（如果启用自动展开）或提示用户
4. 用户点击后直接搜索复制的内容
```

**适用人群**: 
- 经常需要搜索复制内容的用户
- 阅读文章时需要快速查询关键词的用户
- 学习时遇到生词需要快速查询的用户

#### 场景2: 跨应用内容传递
```
用户操作流程:
1. 在应用A中复制内容
2. 剪贴板监控检测到变化
3. 用户打开本应用，内容已准备好
4. 可以直接使用，无需再次复制
```

**适用人群**:
- 需要在多个应用间传递信息的用户
- 经常做笔记和摘录的用户

### ⚙️ 技术实现
- 通过 `MyAccessibilityService` 监听剪贴板变化
- 1秒防抖机制，避免频繁触发
- 智能过滤无效内容（太短、纯数字、纯符号等）
- 重复检测，避免处理相同内容

### ⚠️ 注意事项
- 需要开启无障碍服务权限
- 可能会消耗少量电量（后台监听）
- 如果不需要自动展开功能，可以关闭此选项

---

## 2. 自动粘贴 (auto_paste)

### 🔧 功能说明
**当用户打开搜索面板或AI助手面板时，自动将剪贴板内容粘贴到输入框中**，无需手动粘贴。

### ✅ 使用场景

#### 场景1: 快速搜索
```
用户操作流程:
1. 复制了要搜索的关键词（如"Python教程"）
2. 打开搜索面板
3. 剪贴板内容自动填入搜索框
4. 直接点击搜索即可
```

**适用人群**:
- 经常需要搜索复制内容的用户
- 提高搜索效率的用户

#### 场景2: AI对话
```
用户操作流程:
1. 复制了一段需要AI分析的文字
2. 打开AI助手面板
3. 内容自动填入AI输入框
4. 直接发送给AI分析
```

**适用人群**:
- 需要AI帮助分析文本的用户
- 翻译、总结、改写文本的用户

#### 场景3: 应用内搜索
```
用户操作流程:
1. 复制了应用名称或关键词
2. 打开应用搜索面板
3. 内容自动填入搜索框
4. 快速找到目标应用
```

### ⚙️ 技术实现
- 面板显示动画完成后自动触发
- 内容验证：只粘贴有效内容（2-500字符，非纯数字/符号）
- 去重处理：避免重复粘贴相同内容
- 支持搜索面板和AI助手面板

### ⚠️ 注意事项
- 如果剪贴板内容无效（太短或纯数字），不会自动粘贴
- 如果不想自动粘贴，可以关闭此选项，手动粘贴

---

## 3. 多标签浏览器 (use_multi_tab_browser)

### 🔧 功能说明
**决定搜索时使用哪种浏览器模式**：
- **开启**: 使用多标签页浏览器（类似Chrome的多标签页体验）
- **关闭**: 使用双窗口搜索模式（并排显示两个搜索结果）

### ✅ 使用场景

#### 场景1: 多标签浏览器模式（开启）
```
适用场景:
- 需要同时打开多个搜索结果页面
- 需要像Chrome一样管理多个标签页
- 需要保存浏览历史，方便后续查看
- 需要标签页之间的快速切换

用户操作流程:
1. 搜索关键词
2. 打开多标签浏览器
3. 可以添加新标签页搜索其他内容
4. 在标签页之间切换查看
5. 关闭不需要的标签页
```

**适用人群**:
- 需要同时查看多个搜索结果页面的用户
- 习惯使用Chrome等浏览器的用户
- 需要保存浏览历史的用户

#### 场景2: 双窗口搜索模式（关闭）
```
适用场景:
- 需要同时对比两个搜索引擎的结果
- 需要并排查看搜索结果
- 不需要标签页管理功能
- 更轻量级的搜索体验

用户操作流程:
1. 搜索关键词
2. 打开双窗口搜索
3. 左右并排显示两个搜索引擎的结果
4. 可以同时查看和对比
```

**适用人群**:
- 需要对比不同搜索引擎结果的用户
- 喜欢并排查看的用户
- 不需要复杂标签管理的用户

### ⚙️ 技术实现
- 开启时：启动 `MultiTabBrowserActivity`（多标签页浏览器）
- 关闭时：启动 `DualFloatingWebViewService`（双窗口搜索）
- 可以在设置中随时切换

### ⚠️ 注意事项
- 多标签浏览器功能更丰富，但占用资源稍多
- 双窗口搜索更轻量，但功能相对简单
- 根据个人使用习惯选择

---

## 4. AI智能模式 (search_default_ai_mode)

### 🔧 功能说明
**设置默认使用AI搜索引擎进行搜索**，而不是传统的网页搜索引擎。

### ✅ 使用场景

#### 场景1: AI优先搜索（开启）
```
适用场景:
- 需要AI回答问题的用户
- 需要AI分析、总结、翻译的用户
- 需要对话式搜索体验的用户
- 需要AI帮助理解复杂概念的用户

用户操作流程:
1. 输入搜索关键词
2. 默认使用AI搜索引擎（如ChatGPT、Claude等）
3. 获得AI的智能回答
4. 可以继续对话深入询问
```

**示例**:
- 搜索"量子计算原理" → AI详细解释
- 搜索"如何学习Python" → AI提供学习路径
- 搜索"总结这篇文章" → AI总结内容

**适用人群**:
- 需要深度理解和分析的搜索
- 需要对话式交互的用户
- 学习、研究、工作的用户

#### 场景2: 传统搜索模式（关闭）
```
适用场景:
- 需要查看网页搜索结果
- 需要访问具体网站
- 需要查看图片、视频等媒体结果
- 需要传统的搜索引擎体验

用户操作流程:
1. 输入搜索关键词
2. 使用传统搜索引擎（如Google、百度等）
3. 查看网页搜索结果列表
4. 点击链接访问具体网站
```

**适用人群**:
- 需要访问具体网站的用户
- 需要查看网页内容的用户
- 习惯传统搜索的用户

### ⚙️ 技术实现
- 开启时：默认使用AI搜索引擎（需要配置API密钥）
- 关闭时：使用传统网页搜索引擎
- 可以在搜索界面手动切换

### ⚠️ 注意事项
- AI模式需要配置API密钥（在"AI API设置"中配置）
- AI搜索可能消耗API额度
- 可以根据不同场景切换使用

---

## 5. 通知监听 (enable_notification_listener)

### 🔧 功能说明
**允许应用读取系统通知，并在灵动岛中显示通知内容**，支持点击通知内容进行搜索。

### ✅ 使用场景

#### 场景1: 灵动岛显示通知
```
适用场景:
- 需要在不打开应用的情况下查看通知
- 需要在灵动岛中快速查看通知内容
- 需要点击通知内容进行搜索

用户操作流程:
1. 微信收到消息通知
2. 灵动岛自动显示通知图标和内容
3. 点击通知内容
4. 自动将通知内容作为搜索关键词
5. 快速搜索相关信息
```

**示例**:
- 微信消息："今天天气怎么样？" → 点击后搜索天气
- 淘宝通知："您的订单已发货" → 点击后搜索物流信息
- 新闻推送："AI技术新突破" → 点击后搜索相关新闻

**适用人群**:
- 需要快速处理通知的用户
- 需要从通知中提取信息搜索的用户
- 需要统一管理通知的用户

#### 场景2: 通知应用管理
```
功能:
- 选择哪些应用的通知可以在灵动岛中显示
- 过滤不需要的通知
- 只关注重要的应用通知

用户操作流程:
1. 开启通知监听
2. 进入"通知应用管理"
3. 选择需要显示通知的应用（如微信、QQ、邮件等）
4. 其他应用的通知不会在灵动岛中显示
```

**适用人群**:
- 通知太多的用户
- 只想关注特定应用通知的用户
- 需要过滤通知的用户

### ⚙️ 技术实现
- 通过 `NotificationListenerService` 监听系统通知
- 过滤持续通知和前台服务通知
- 支持应用白名单过滤
- 在灵动岛中显示通知图标和内容
- 支持点击通知内容进行搜索

### ⚠️ 注意事项
- 需要授予"通知访问权限"
- 可能会显示敏感信息（建议只选择信任的应用）
- 可以随时在"通知应用管理"中调整

---

## 📊 功能对比表

| 功能 | 开启时 | 关闭时 | 推荐开启场景 |
|------|--------|--------|-------------|
| **剪贴板监控** | 自动检测剪贴板变化，通知灵动岛 | 不监听剪贴板 | 需要快速搜索复制内容 |
| **自动粘贴** | 打开面板时自动粘贴剪贴板内容 | 需要手动粘贴 | 提高搜索效率 |
| **多标签浏览器** | 使用多标签页浏览器 | 使用双窗口搜索 | 需要管理多个搜索结果 |
| **AI智能模式** | 默认使用AI搜索引擎 | 使用传统搜索引擎 | 需要AI回答和分析 |
| **通知监听** | 在灵动岛显示通知 | 不显示通知 | 需要快速处理通知 |

---

## 🎯 推荐配置方案

### 方案1: 高效搜索型
```
✅ 剪贴板监控: 开启
✅ 自动粘贴: 开启
❌ 多标签浏览器: 关闭（使用双窗口）
❌ AI智能模式: 关闭（使用传统搜索）
❌ 通知监听: 关闭
```
**适用**: 需要快速搜索，不需要复杂功能的用户

### 方案2: AI助手型
```
✅ 剪贴板监控: 开启
✅ 自动粘贴: 开启
✅ 多标签浏览器: 开启
✅ AI智能模式: 开启
❌ 通知监听: 关闭
```
**适用**: 需要AI帮助，需要多标签管理的用户

### 方案3: 全能型
```
✅ 剪贴板监控: 开启
✅ 自动粘贴: 开启
✅ 多标签浏览器: 开启
✅ AI智能模式: 开启
✅ 通知监听: 开启
```
**适用**: 需要所有功能的用户

### 方案4: 轻量型
```
❌ 剪贴板监控: 关闭
❌ 自动粘贴: 关闭
❌ 多标签浏览器: 关闭
❌ AI智能模式: 关闭
❌ 通知监听: 关闭
```
**适用**: 只需要基本搜索功能，不需要额外功能的用户

---

## 💡 使用建议

1. **剪贴板监控 + 自动粘贴**: 建议同时开启，可以大幅提高搜索效率
2. **多标签浏览器**: 根据个人习惯选择，喜欢标签页管理的开启
3. **AI智能模式**: 如果经常需要AI回答，建议开启；如果主要搜索网页，建议关闭
4. **通知监听**: 如果通知太多，建议关闭或只选择重要应用
5. **组合使用**: 可以根据不同场景灵活切换配置

---

## ❓ 常见问题

### Q1: 剪贴板监控和自动粘贴有什么区别？
**A**: 
- **剪贴板监控**: 监听剪贴板变化，可以触发自动展开等操作
- **自动粘贴**: 在打开面板时自动粘贴内容，无需手动操作
- 两者可以配合使用，也可以单独使用

### Q2: 多标签浏览器和双窗口搜索哪个更好？
**A**: 
- **多标签浏览器**: 功能更丰富，适合需要管理多个页面的用户
- **双窗口搜索**: 更轻量，适合只需要对比两个结果的用户
- 根据个人需求选择

### Q3: AI智能模式需要付费吗？
**A**: 
- 需要配置API密钥（在"AI API设置"中配置）
- 部分AI服务有免费额度，部分需要付费
- 可以使用"临时专线"（免费，但可能不稳定）

### Q4: 通知监听会泄露隐私吗？
**A**: 
- 通知内容只在本地处理，不会上传
- 可以选择只监听特定应用的通知
- 如果担心隐私，可以关闭此功能

---

## 📝 总结

这5个开关都是**非常实用**的功能，可以根据个人需求灵活配置：

- ✅ **剪贴板监控** + **自动粘贴**: 强烈推荐开启，大幅提高搜索效率
- ✅ **多标签浏览器**: 根据个人习惯选择
- ✅ **AI智能模式**: 如果经常使用AI，建议开启
- ✅ **通知监听**: 如果通知太多，建议关闭或选择性开启

**建议**: 先全部开启试用，然后根据实际使用情况调整配置。









