# AI应用跳转修复测试指南

## 修复内容总结

### 1. 包名修复
已修复以下AI应用的包名不匹配问题：

| 应用名称 | 原包名 | 修复后包名 | 状态 |
|---------|--------|-----------|------|
| 文小言 | `ai.qwenlm.chat.android` | `com.baidu.wenxiaoyan` | ✅ 已修复 |
| Grok | `ai.x.grok` | `com.xai.grok` | ✅ 已修复 |
| Perplexity | `ai.perplexity.app.android` | `ai.perplexity.app` | ✅ 已修复 |
| Manus | `com.manus.app` | `com.manus.app` | ✅ 无需修改 |
| 秘塔AI搜索 | `com.mita.ai` | `com.mita.ai` | ✅ 无需修改 |
| Poe | `com.poe.android` | `com.poe.app` | ✅ 已修复 |
| IMA | `com.tencent.ima` | `com.ima.app` | ✅ 已修复 |
| 纳米AI | `com.nano.ai` | `com.nano.ai` | ✅ 无需修改 |

### 2. 跳转方法修复
- ✅ 完善了 `sendToNano()` 方法实现
- ✅ 所有AI应用跳转方法已完整实现
- ✅ 统一使用 `Intent.ACTION_SEND` 方式发送文本

### 3. 包名检测更新
- ✅ 更新了 `AppSearchGridAdapter` 中的AI应用包名检测列表
- ✅ 更新了 `AIAppIconEnhancer` 中的包名映射
- ✅ 更新了 `PreciseIconManager` 中的包名映射

## 测试步骤

### 步骤1：检查应用安装状态
1. 打开应用搜索页面
2. 选择AI分类
3. 检查以下应用是否显示为已安装（绿点）：
   - 文小言
   - Grok
   - Perplexity
   - Manus
   - 秘塔AI搜索
   - Poe
   - IMA
   - 纳米AI

### 步骤2：测试跳转功能
1. 在搜索框输入测试问题："你好，请介绍一下自己"
2. 点击每个AI应用图标
3. 验证是否能够：
   - 成功启动目标应用
   - 显示"正在向XXX发送问题..."提示
   - 在目标应用中看到输入的问题

### 步骤3：测试图标显示
1. 检查每个AI应用是否显示正确的图标
2. 已安装应用应显示真实图标
3. 未安装应用应显示预设图标或字母图标

## 预期结果

### 成功指标
- ✅ 所有AI应用包名检测正确
- ✅ 已安装应用显示绿点状态
- ✅ 点击应用能够成功跳转
- ✅ 跳转后能够看到搜索内容
- ✅ 图标显示正确

### 错误处理
- 如果应用未安装，应显示安装提示弹窗
- 如果跳转失败，应自动降级到剪贴板复制方式
- 所有错误都应有相应的日志记录

## 调试信息

### 日志标签
- `APP_DETECTION`: 应用安装状态检测
- `SimpleModeActivity`: AI应用跳转过程
- `AIAppIconEnhancer`: 图标加载过程

### 关键日志
```
🚨 检测AI应用: [包名]
🎉 AI应用 [包名] 检测成功
正在向[应用名]发送问题...
[应用名] Intent发送成功
```

## 故障排除

### 如果仍然无法跳转
1. 检查应用是否真的已安装
2. 检查包名是否正确
3. 查看日志中的错误信息
4. 尝试手动启动目标应用确认包名

### 如果图标显示异常
1. 检查图标资源文件是否存在
2. 查看图标加载日志
3. 尝试清除应用缓存重新加载

## 验证清单

- [ ] 文小言跳转测试
- [ ] Grok跳转测试  
- [ ] Perplexity跳转测试
- [ ] Manus跳转测试
- [ ] 秘塔AI搜索跳转测试
- [ ] Poe跳转测试
- [ ] IMA跳转测试
- [ ] 纳米AI跳转测试
- [ ] 所有应用图标显示正常
- [ ] 错误处理机制正常

## 修复完成

所有问题AI应用的跳转功能已修复完成，现在应该能够正常实现搜索跳转功能。




